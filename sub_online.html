<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LYJ MATH - 정수학</title>
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/online-viewer.css">
    
    <!-- ★★★ 수정된 스타일 ★★★ -->
    <style>
      #videoPlaceholder {
        display: none;
        width: 100%;
        height: 100%;
        flex-grow: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #000;
        color: #94a3b8;
        font-size: 1.2rem;
        text-align: center;
        line-height: 1.6;
      }
      #videoControls button:disabled {
        opacity: 0.4;
        cursor: not-allowed;
        background-color: #4b5563;
      }
      
      /* ★★★ 추가된 로딩 스피너 애니메이션 ★★★ */
      .loading-spinner {
        animation: rotate 2s linear infinite;
        width: 50px;
        height: 50px;
        margin-bottom: 1.5rem;
      }
      .loading-spinner .path {
        stroke: #94a3b8;
        stroke-linecap: round;
        animation: dash 1.5s ease-in-out infinite;
      }
      @keyframes rotate {
        100% { transform: rotate(360deg); }
      }
      @keyframes dash {
        0% {
          stroke-dasharray: 1, 150;
          stroke-dashoffset: 0;
        }
        50% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -35;
        }
        100% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -124;
        }
      }
    </style>
</head>
<body>

<header class="site-nav">
  <a href="index.html" class="logo-link" title="홈으로 이동"></a>
</header>

  <section class="hero hero-sub">
    <div class="hero-bg-images">
      <img src="images/lyj2.png" class="h-img img-init" alt="">
      <img src="images/lyj4.png" class="h-img img-final" alt="">
    </div>
    <div class="container">
      <h1>Online 정수학</h1>
      <div id="search-group">
        <input type="text" id="searchBox" placeholder="띄어쓰기는 OR, 쉼표는 AND 검색" onkeydown="if(event.key === 'Enter') triggerSearch()">
        <button id="searchBtn" onclick="triggerSearch()">강의 검색</button>
      </div>
    </div>
  </section>

<main class="content-area">
  <div id="filter-section">
    <div id="filter-stack">
      <button class="filter-btn" data-grade="중1">중1</button>
      <button class="filter-btn" data-grade="중2">중2</button>
      <button class="filter-btn" data-grade="중3">중3</button>
      <button class="filter-btn" data-grade="고1">고1</button>
      <button class="filter-btn" data-grade="고2">고2</button>
      <button class="filter-btn" data-grade="고3">고3</button>
    </div>
  </div>
  
  <div id="lessonContainer">
      <!-- ★★★ 수정된 초기 상태: 로딩 애니메이션 ★★★ -->
      <div id="lesson-placeholder">
          <svg class="loading-spinner" viewBox="0 0 50 50">
            <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
          </svg>
          <p>강의 목록을 불러오는 중입니다...</p>
      </div>
      <div id="chapterList"></div>
  </div>
</main>

<!-- 모달 팝업 -->
<div id="videoModal">
  <div id="videoContent">
    <div id="videoContainer">
      <div id="lessonVideo"></div>
      <div id="videoPlaceholder">강의가 준비 중이거나<br>PDF 교재만 제공됩니다.</div>

      <div id="videoControls">
        <button id="playPauseBtn">일시 정지</button>
        <button id="skipBackwardBtn" class="skip-btn">-5초</button>
        <button id="skipForwardBtn" class="skip-btn">+5초</button>
        <div id="speedControls">
          <button class="speedOption" data-speed="0.5">0.5x</button>
          <button class="speedOption" data-speed="0.75">0.75x</button>
          <button class="speedOption" data-speed="1">1x</button>
          <button class="speedOption" data-speed="1.25">1.25x</button>
          <button class="speedOption" data-speed="1.5">1.5x</button>
        </div>
        <button id="fullscreenBtn">전체 화면</button>
        <button id="showPdfBtn">교재 보기</button>
        <button id="endLectureBtn">강의 종료</button>
      </div>
    </div>
    <div id="modalPdfContainer"><iframe id="modalPdfFrame" allow="autoplay"></iframe></div>
  </div>
</div>

  <section class="action-buttons-container">
    <div class="container">
      <a href="#" class="action-btn top-btn" title="맨 위로">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"/></svg>
      </a>
      <a href="#" class="action-btn back-btn" title="이전 페이지">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H109.2l105.3-105.3c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </a>
    </div>
  </section>
<footer>
  <div class="container">
      <a href="index.html" class="footer-logo-link" title="홈으로 이동">
        <img src="images/logo1.svg" alt="LYJ MATH 로고">
      </a>  
    <div class="footer-info">
      <p>상호 : 正수학 ㅣ 대표 : 이영진 ㅣ ☎ 031) 591-6114 ㅣ 경기도 남양주시 의안로 121-10, 3층</p>
      <p>사업자등록번호 : 509-95-01083 ㅣ 상표등록번호 : 45-0043624-0000</p>
    </div>
    <p class="footer-copyright">Copyright © 1991&nbsp; <b>LYJ MATH - 정수학.</b>&nbsp; All Rights Reserved.</p>
  </div>
</footer>

<script src="https://www.youtube.com/iframe_api"></script>
<script src="js/lessonlink.js"></script>
<script src="js/online-viewer.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const backBtn = document.querySelector('.back-btn');
        if (backBtn) {
            backBtn.addEventListener('click', function(e) { e.preventDefault(); history.back(); });
        }
        const topBtn = document.querySelector('.top-btn');
        if (topBtn) {
            topBtn.addEventListener('click', function(e) { e.preventDefault(); window.scrollTo({ top: 0, behavior: 'smooth' }); });
        }
    });
</script>
</body>
</html>