<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LYJ MATH - 정수학</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="css/style.css">
  <link rel="manifest" href="manifest.json">

<!-- 아이폰/아이패드용 설정 -->
<link rel="apple-touch-icon" href="images/logo_apple_512.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="LYJ MATH">
<meta name="theme-color" content="#ffffff">  
  <style>
    /* === 공지사항 팝업 스타일 (컬러 통일: #699b37) === */
    .n-modal {
      display: none; position: fixed; z-index: 2000; left: 0; top: 0;
      width: 100%; height: 100%; background-color: rgba(15, 23, 42, 0.8);
      align-items: center; justify-content: center; padding: 20px;
    }
    .n-modal.show { display: flex; }
    .n-modal-content {
      background: #fff; width: 100%; max-width: 500px; border-radius: 16px;
      padding: 30px; position: relative; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);
      border-top: 5px solid #699b37; /* [수정] 박스 위 띠 */
      animation: modalFadeUp 0.3s ease-out;
    }
    @keyframes modalFadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .n-modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .n-modal-close { background: none; border: none; font-size: 28px; color: #94a3b8; cursor: pointer; line-height: 1; }
    
    /* [수정] 공지사항 뱃지 컬러 */
    .n-modal-header .notice-badge { background-color: #699b37 !important; }
    
    /* [수정] 공지사항 제목 컬러 */
    .n-modal-content h3 { font-size: 1.3rem; color: #699b37; margin-bottom: 15px; font-weight: 700; }
    
    .n-modal-divider { height: 1px; background: #e2e8f0; margin-bottom: 15px; }
    .n-modal-content p { color: #475569; line-height: 1.7; font-size: 1rem; margin-bottom: 25px; white-space: pre-wrap; text-align: left; }
    
    /* [수정] 확인 버튼 컬러 */
    .n-modal-confirm {
      width: 100%; background: #699b37; color: #fff; border: none;
      padding: 12px; border-radius: 8px; font-weight: 700; cursor: pointer; transition: 0.2s;
    }
    .n-modal-confirm:hover { background: #55802c; }
    
    @media (max-width: 767px) {
      .n-modal-content { padding: 20px; }
      .n-modal-content h3 { font-size: 1.1rem; }
    }
.action-btn.install-btn {
  background-color: #1e3a8a; /* '자세히 보기' 버튼과 통일감 있는 색상 */
  bottom: 95px; /* '맨 위로' 버튼과의 간격 확보 */
}
.action-btn.install-btn:hover {
  background-color: #1c316e;
}
  </style>

</head>
<body>
  <header class="site-nav">
    <a href="index.html" class="logo-link" title="홈으로 이동"></a>
  </header>
  <section class="hero hero-main">
    <div class="hero-bg-images">
      <img src="images/lyj0.png" class="h-img img-init" alt="상반신원본">
      <img src="images/lyj4.png" class="h-img img-final" alt="전신애니1">
    </div>
    <div class="container">
      <h1>Welcome to<br>LYJ MATH - 정수학</h1>
      <p>노력하는 사람만이 행복할 수 있습니다.</p>
    </div>
  </section>

  <!-- ★ 공지사항 섹션 (데이터 속성 추가) ★ -->
  <section class="section-notice">
    <div class="container">
      <div class="notice-box">
        
        <!-- 첫 번째 줄 (내용 추가) -->
        <a href="#" class="notice-item js-open-notice" 
           data-title="4K 강의 촬영 및 업로드 중입니다." 
           data-content="현장 강의의 생동감을 그대로 전달하기 위해 모든 강의를 4K 고해상도로 촬영하고 있습니다. 더욱 선명한 화질로 몰입도 높은 학습을 경험하세요.">
          <div class="notice-left">
            <span class="notice-badge">NOTICE</span>
            <span class="notice-title">4K 강의 촬영 및 업로드 중입니다.</span>
          </div>
          <span class="notice-date">2026.01.01</span>
        </a>

        <div class="notice-divider"></div>

        <!-- 두 번째 줄 (내용 추가) -->
        <a href="#" class="notice-item js-open-notice" 
           data-title="홈페이지 리뉴얼 중입니다." 
           data-content="학생들의 학습 편의를 위해 홈페이지를 새롭게 단장하고 있습니다. 일부 기능이 업데이트 중일 수 있으니 양해 부탁드립니다.">
          <div class="notice-left">
            <span class="notice-badge">NOTICE</span>
            <span class="notice-title">홈페이지 리뉴얼 중입니다.</span>
          </div>
          <span class="notice-date">2026.01.01</span>
        </a>

      </div>
    </div>
  </section>

<section class="section-off-online" >
    <div class="container section-inner">
      <div class="box feature-box">
        <div class="box-header">
          <h2>Online 정수학</h2>
          <a href="sub_online.html" class="btn-original btn-arrow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H338.7L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg></a>
        </div>
        <p>언제 어디서나 학습 가능한 명품 강의!</p>
        <div class="video-embed-container" id="online-video-container">
          <iframe src="https://www.youtube.com/embed/MhDjvKObcco" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </div>

  <div class="box feature-box">
    <div class="box-header">
      <h2>Offline 정수학</h2>
      <a href="sub_offline.html" class="btn-original btn-arrow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H338.7L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg></a>
    </div>
    <p>현장에서 직접 배우는 집중 교육!</p>
    <div class="video-embed-container">
      <iframe src="https://www.youtube.com/embed/Rn0P_PlbBk0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>
    </div>
  </section>

<section style="padding: 50px 0; background-color: #f8fafc;">
  <div class="container section-inner" style="display: flex; gap: 30px;">
    <div class="box feature-box" style="text-align: center; flex: 1; padding: 40px; border: 1px solid #e2e8f0; border-radius: 16px; background: #fff;">
      <h2 style="font-size: 2rem; color: #1e3a8a; margin-bottom: 15px;">올바른 수학공부</h2>
      <p style="font-size: 1.1rem; color: #475569; margin-bottom: 30px;">수학 공부에 대한 당연한 이야기</p>
      <a href="sub_philosophy.html" class="btn-original" style="background-color: #1e3a8a;">자세히 보기</a>
    </div>
    <div class="box feature-box" style="text-align: center; flex: 1; padding: 40px; border: 1px solid #e2e8f0; border-radius: 16px; background: #fff;">
      <h2 style="font-size: 2rem; color: #1e3a8a; margin-bottom: 15px;">알.피.살.이.</h2>
      <p style="font-size: 1.1rem; color: #475569; margin-bottom: 30px;">알면 피가 되고 살이 되는 이야기</p>
      <a href="sub_philosophy_advice.html" class="btn-original" style="background-color: #1e3a8a;">자세히 보기</a>
    </div>
  </div>
</section>

  <!-- ★ 공지사항 팝업 모달 구조 ★ -->
  <div id="noticePopup" class="n-modal">
    <div class="n-modal-content">
      <div class="n-modal-header">
        <span class="notice-badge" style="background-color: #1e3a8a;">NOTICE</span>
        <button class="n-modal-close">&times;</button>
      </div>
      <h3 id="n-popup-title">공지사항 제목</h3>
      <div class="n-modal-divider"></div>
      <p id="n-popup-text">공지사항 내용</p>
      <button class="n-modal-confirm">확인</button>
    </div>
  </div>

<!-- 이 부분 전체를 복사해서 기존 코드를 덮어쓰세요 -->
  <section class="action-buttons-container">
    <div class="container">
      
      <!-- ★ PWA 설치 버튼 추가 ★ -->
      <a href="#" class="action-btn install-btn" id="pwa-install-btn" title="앱 설치" style="display: none;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V256c0 17.7 14.3 32 32 32s32-14.3 32-32V32zM143.5 120.5c-13.6-11.3-33.9-9.4-45.2 4.2s-9.4 33.9 4.2 45.2l128 96c13.6 10.2 32.9 8.2 44.4-4.5s9.7-32.5-3-43.2l-128.4-97.7zM368.5 120.5l-128.4 97.7c-12.7 9.7-17.6 27.2-7.9 40.7s27.2 17.6 40.7 7.9l128-96c13.6-10.2 15.6-29.5 4.2-45.2s-29.5-15.6-45.2-4.2zM256 320c-17.7 0-32 14.3-32 32V448h64V352c0-17.7-14.3-32-32-32zm-64-16c-35.3 0-64 28.7-64 64V448H64c-17.7 0-32 14.3-32 32s14.3 32 32 32H448c17.7 0 32-14.3 32-32s-14.3-32-32-32H384V368c0-35.3-28.7-64-64-64H192z"/></svg>
      </a>

      <a href="#" class="action-btn top-btn" title="맨 위로">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"/></svg>
      </a>
    </div>
  </section>
  <!-- 여기까지 덮어쓰세요 -->  <footer>
    <div class="container">
      <a href="index.html" class="footer-logo-link" title="홈으로 이동">
        <img src="images/logo1.svg" alt="LYJ MATH 로고">
      </a>
      <div class="footer-info">
        <p>상호 : 正수학 ㅣ 대표 : 이영진 ㅣ ☎ 031) 591-6114 ㅣ 경기도 남양주시 의안로 121-10, 3층</p>
        <p>사업자등록번호 : 509-95-01083 ㅣ 상표등록번호 : 45-0043624-0000</p>
      </div>
      <p class="footer-copyright">Copyright © 1991&nbsp; <b>LYJ MATH - 정수학.</b>&nbsp; All Rights Reserved.</p>
    </div>
  </footer>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // =======================================================
        // ★ PWA 설치 버튼 로직 (여기에 추가) ★
        // =======================================================
        let deferredPrompt;
        const installBtn = document.getElementById('pwa-install-btn');

        // 1. 앱으로 실행 중인 경우, 설치 버튼 로직 전체를 실행하지 않음
        if (window.matchMedia('(display-mode: standalone)').matches) {
            console.log('Display mode is standalone, hide install button.');
            return; // 여기서 스크립트 실행 중단
        }

        // 2. 브라우저가 PWA 설치를 지원하고, 아직 앱이 설치되지 않았을 때 발생하는 이벤트
        window.addEventListener('beforeinstallprompt', (e) => {
            // 브라우저의 기본 설치 배너가 뜨는 것을 막음
            e.preventDefault();
            // 나중에 사용하기 위해 이벤트 객체를 저장
            deferredPrompt = e;
            // 사용자에게 직접 설치를 유도하기 위해 버튼을 보여줌
            if (installBtn) {
              installBtn.style.display = 'flex';
            }
        });

        // 3. 사용자가 직접 추가한 설치 버튼을 클릭했을 때의 동작
        if (installBtn) {
            installBtn.addEventListener('click', async (e) => {
                e.preventDefault();
                // 저장해둔 설치 프롬프트 이벤트를 사용
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    // 사용자의 선택(설치 또는 취소)을 기다림
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log(`User response to the install prompt: ${outcome}`);
                    // 프롬프트는 한 번만 사용할 수 있으므로, 변수를 초기화
                    deferredPrompt = null;
                    // 사용자가 선택을 완료하면 버튼을 다시 숨김
                    installBtn.style.display = 'none';
                }
            });
        }
        
        // 4. 앱이 성공적으로 설치되었을 때의 이벤트 처리
        window.addEventListener('appinstalled', () => {
            // deferredPrompt를 null로 만들어 다시 프롬프트가 뜨지 않게 함
            deferredPrompt = null;
            // 설치가 완료되었으므로 버튼을 확실히 숨김
            if (installBtn) {
                installBtn.style.display = 'none';
            }
            console.log('PWA was installed');
        });

        // 공지사항 모달 제어
        const modal = document.getElementById('noticePopup');
        const modalTitle = document.getElementById('n-popup-title');
        const modalText = document.getElementById('n-popup-text');
        const closeBtns = document.querySelectorAll('.n-modal-close, .n-modal-confirm');

        document.querySelectorAll('.js-open-notice').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                modalTitle.innerText = this.getAttribute('data-title');
                modalText.innerText = this.getAttribute('data-content');
                modal.classList.add('show');
                document.body.style.overflow = 'hidden';
            });
        });

        closeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                modal.classList.remove('show');
                document.body.style.overflow = '';
            });
        });

        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('show');
                document.body.style.overflow = '';
            }
        });

        // 기존 버튼 제어
        const backBtn = document.querySelector('.back-btn');
        if (backBtn) {
            backBtn.addEventListener('click', function(e) { e.preventDefault(); history.back(); });
        }
        const topBtn = document.querySelector('.top-btn');
        if (topBtn) {
            topBtn.addEventListener('click', function(e) { e.preventDefault(); window.scrollTo({ top: 0, behavior: 'smooth' }); });
        }
    });
</script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js');
  }
</script>
</body>
</html>